# üîß –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è CORS –ø–æ–º–∏–ª–∫–∏

## üìã –ó–º—ñ—Å—Ç
1. [–ü–æ—è—Å–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ CORS](#–ø–æ—è—Å–Ω–µ–Ω–Ω—è-–ø—Ä–æ–±–ª–µ–º–∏-cors)
2. [–†—ñ—à–µ–Ω–Ω—è: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ALLOWED_ORIGINS –Ω–∞ Railway](#—Ä—ñ—à–µ–Ω–Ω—è-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-allowed_origins-–Ω–∞-railway)
3. [–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ backend –∫–æ–¥—É](#–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞-backend-–∫–æ–¥—É)
4. [–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è](#–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–µ-—Ä—ñ—à–µ–Ω–Ω—è)
5. [–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è](#–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞-–ø—ñ—Å–ª—è-–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)
6. [Troubleshooting](#troubleshooting)
7. [–î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–æ–º–µ–Ω–∏](#–¥–æ–¥–∞—Ç–∫–æ–≤—ñ-–¥–æ–º–µ–Ω–∏)

---

## ü§î –ü–æ—è—Å–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ CORS

### –©–æ —Ç–∞–∫–µ CORS?

**CORS** (Cross-Origin Resource Sharing) ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º –±–µ–∑–ø–µ–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞, —è–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—é—î, —è–∫—ñ –≤–µ–±-—Å–∞–π—Ç–∏ –º–æ–∂—É—Ç—å —Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏ –¥–æ –≤–∞—à–æ–≥–æ API.

### –ß–æ–º—É –≤–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞?

–ö–æ–ª–∏ –≤–∞—à frontend –Ω–∞ Vercel (`https://dofa-uno.vercel.app`) –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑—Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç –¥–æ backend –Ω–∞ Railway (`https://api.dopa.uno`), –±—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î:

1. **–ß–∏ –¥–æ–∑–≤–æ–ª—è—î backend –ø—Ä–∏–π–º–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ –∑ —Ü—å–æ–≥–æ –¥–æ–º–µ–Ω—É?**
2. –Ø–∫—â–æ –¥–æ–º–µ–Ω –Ω–µ –≤ —Å–ø–∏—Å–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö ‚Äî **–±–ª–æ–∫—É—î –∑–∞–ø–∏—Ç**

### –¢–∏–ø–æ–≤–∞ –ø–æ–º–∏–ª–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª—ñ:

```
Access to fetch at 'https://api.dopa.uno/api/parse_dump' from origin 'https://dofa-uno.vercel.app' 
has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
```

### –Ø–∫ —Ü–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫?

- ‚ùå Frontend –Ω–µ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∑ backend
- ‚ùå –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å –ø–æ–º–∏–ª–∫–∏ –∑–∞–º—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç—É
- ‚ùå API –∑–∞–ø–∏—Ç–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è
- ‚ùå –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–µ –ø—Ä–∞—Ü—é—î –Ω–∞ production

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ALLOWED_ORIGINS –Ω–∞ Railway

### –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:

#### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏—Ç–∏ Railway Dashboard

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [railway.app](https://railway.app)
2. –£–≤—ñ–π–¥—ñ—Ç—å —É —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç
3. –ó–Ω–∞–π–¥—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç **dofa-uno** (–∞–±–æ –Ω–∞–∑–≤—É –≤–∞—à–æ–≥–æ backend –ø—Ä–æ–µ–∫—Ç—É)

#### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à backend —Å–µ—Ä–≤—ñ—Å
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Variables"** (–∞–±–æ **"Settings" ‚Üí "Variables"**)

#### –ö—Ä–æ–∫ 3: –î–æ–¥–∞—Ç–∏ –∞–±–æ –æ–Ω–æ–≤–∏—Ç–∏ –∑–º—ñ–Ω–Ω—É ALLOWED_ORIGINS

**–í–∞—Ä—ñ–∞–Ω—Ç A: –Ø–∫—â–æ –∑–º—ñ–Ω–Ω–∞ –≤–∂–µ —ñ—Å–Ω—É—î**
- –ó–Ω–∞–π–¥—ñ—Ç—å –∑–º—ñ–Ω–Ω—É `ALLOWED_ORIGINS`
- –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –Ω–µ—ó –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- –û–Ω–æ–≤—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è

**–í–∞—Ä—ñ–∞–Ω—Ç B: –Ø–∫—â–æ –∑–º—ñ–Ω–Ω–æ—ó –Ω–µ–º–∞—î**
- –ö–ª—ñ–∫–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"New Variable"** –∞–±–æ **"+ Add Variable"**
- –í –ø–æ–ª—ñ **"Variable Name"** –≤–≤–µ–¥—ñ—Ç—å: `ALLOWED_ORIGINS`
- –í –ø–æ–ª—ñ **"Value"** –≤–≤–µ–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è (–¥–∏–≤. –Ω–∏–∂—á–µ)

#### –ö—Ä–æ–∫ 4: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è

–°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è:

```
https://dofa-uno.vercel.app,https://dopa.uno,http://localhost:5173
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- `https://dofa-uno.vercel.app` ‚Äî –≤–∞—à Vercel –¥–æ–º–µ–Ω
- `https://dopa.uno` ‚Äî –≤–∞—à custom –¥–æ–º–µ–Ω (—è–∫—â–æ —î)
- `http://localhost:5173` ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:**
- –î–æ–º–µ–Ω–∏ —Ä–æ–∑–¥—ñ–ª—è—é—Ç—å—Å—è **–∫–æ–º–æ—é –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤**
- –û–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∫–∞–∑—É–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª (`https://` –∞–±–æ `http://`)
- –ù–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ —Å–ª–µ—à `/` –≤ –∫—ñ–Ω—Ü—ñ –¥–æ–º–µ–Ω—É

#### –ö—Ä–æ–∫ 5: –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å **"Add"** –∞–±–æ **"Save"**
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–∞—à —Å–µ—Ä–≤—ñ—Å
3. –ó–∞—á–µ–∫–∞–π—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É

#### –ö—Ä–æ–∫ 6: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—é

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Deployments"**
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–µ–ø–ª–æ–π –º–∞—î —Å—Ç–∞—Ç—É—Å **"Success"** ‚úÖ
3. –Ø–∫—â–æ —Å—Ç–∞—Ç—É—Å **"Failed"** ‚ùå ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ backend –∫–æ–¥—É

–í–∞—à backend –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ CORS! –ü–µ—Ä–µ–≤—ñ—Ä–∏–º–æ –∫–æ–¥ –≤ [`backend/main.py`](backend/main.py):

### –Ø–∫ –ø—Ä–∞—Ü—é—î CORS middleware:

```python
# –†—è–¥–∫–∏ 28-40 –≤ backend/main.py
ALLOWED_ORIGINS = os.getenv("ALLOWED_ORIGINS", "").split(",") if os.getenv("ALLOWED_ORIGINS") else [
    "http://localhost:5173",
    "http://localhost:5174",
    # ... —ñ–Ω—à—ñ localhost –ø–æ—Ä—Ç–∏
]

# –†—è–¥–∫–∏ 43-50
app.add_middleware(
    CORSMiddleware,
    allow_origins=ALLOWED_ORIGINS,  # ‚Üê –¢—É—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–º—ñ–Ω–Ω–∞
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"],
    allow_headers=["*"],
    expose_headers=["*"],
)
```

### –©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥:

1. **–ß–∏—Ç–∞—î –∑–º—ñ–Ω–Ω—É `ALLOWED_ORIGINS`** –∑ environment variables Railway
2. **–†–æ–∑–¥—ñ–ª—è—î –¥–æ–º–µ–Ω–∏** –ø–æ –∫–æ–º—ñ
3. **–Ø–∫—â–æ –∑–º—ñ–Ω–Ω–∞ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î localhost –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
4. **–î–æ–¥–∞—î CORS middleware** –¥–æ FastAPI –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
5. **–î–æ–∑–≤–æ–ª—è—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ HTTP –º–µ—Ç–æ–¥–∏** (GET, POST, PUT, DELETE, OPTIONS)

### ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫:

–ö–æ–¥ –≤–∂–µ –≥–æ—Ç–æ–≤–∏–π! –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ **—Ç—ñ–ª—å–∫–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–º—ñ–Ω–Ω—É –Ω–∞ Railway** ‚Äî –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ó—ó –ø—ñ–¥—Ö–æ–ø–∏—Ç—å.

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è

### –Ø–∫—â–æ –∑–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–µ –ø—Ä–∞—Ü—é—î

–í–∏ –º–æ–∂–µ—Ç–µ **—Ç–∏–º—á–∞—Å–æ–≤–æ** –¥–æ–¥–∞—Ç–∏ –¥–æ–º–µ–Ω –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –∫–æ–¥ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è production):

#### –í–∞—Ä—ñ–∞–Ω—Ç 1: –î–æ–¥–∞—Ç–∏ –¥–æ–º–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ [`backend/main.py`](backend/main.py), —Ä—è–¥–∫–∏ 29-40:

```python
ALLOWED_ORIGINS = os.getenv("ALLOWED_ORIGINS", "").split(",") if os.getenv("ALLOWED_ORIGINS") else [
    "http://localhost:5173",
    "http://localhost:5174",
    "http://localhost:5175",
    "http://localhost:5176",
    "http://localhost:5177",
    "http://localhost:5178",
    "http://localhost:3000",
    "http://127.0.0.1:5173",
    "http://127.0.0.1:5176",
    "http://127.0.0.1:5178",
    "https://dofa-uno.vercel.app",  # ‚Üê –î–æ–¥–∞–π—Ç–µ —Ü–µ–π —Ä—è–¥–æ–∫
    "https://dopa.uno"               # ‚Üê –Ü —Ü–µ–π (—è–∫—â–æ —î custom domain)
]
```

#### –í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è wildcard (‚ö†Ô∏è –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è production)

```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # ‚Üê –î–æ–∑–≤–æ–ª—è—î –í–°–Ü –¥–æ–º–µ–Ω–∏ (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!)
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

**‚ö†Ô∏è –£–í–ê–ì–ê:** Wildcard `["*"]` –¥–æ–∑–≤–æ–ª—è—î –∑–∞–ø–∏—Ç–∏ –∑ –±—É–¥—å-—è–∫–æ–≥–æ –¥–æ–º–µ–Ω—É. –¶–µ **–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ** —ñ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø—Ä–æ–±–ª–µ–º –∑ –±–µ–∑–ø–µ–∫–æ—é!

### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è:

- ‚úÖ –î–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –Ø–∫—â–æ Railway –Ω–µ –ø—ñ–¥—Ö–æ–ø–ª—é—î –∑–º—ñ–Ω–Ω—ñ
- ‚ùå –ù–ï –¥–ª—è production –±–µ–∑ –∑–º—ñ–Ω–Ω–æ—ó —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- ‚ùå –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ wildcard –Ω–∞ production

---

## ‚úîÔ∏è –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –ú–µ—Ç–æ–¥ 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à —Å–∞–π—Ç** –Ω–∞ Vercel: `https://dofa-uno.vercel.app`
2. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools** (F12 –∞–±–æ Cmd+Option+I –Ω–∞ Mac)
3. **–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Network"**
4. **–í–∏–∫–æ–Ω–∞–π—Ç–µ –¥—ñ—é**, —è–∫–∞ —Ä–æ–±–∏—Ç—å API –∑–∞–ø–∏—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É)
5. **–ó–Ω–∞–π–¥—ñ—Ç—å –∑–∞–ø–∏—Ç** –¥–æ –≤–∞—à–æ–≥–æ API (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `parse_dump`)
6. **–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∑–∞–ø–∏—Ç** —ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Headers"**

### –©–æ —à—É–∫–∞—Ç–∏ –≤ Response Headers:

```
Access-Control-Allow-Origin: https://dofa-uno.vercel.app
Access-Control-Allow-Credentials: true
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
```

### ‚úÖ –Ø–∫—â–æ –±–∞—á–∏—Ç–µ —Ü—ñ headers ‚Äî CORS –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

### –ú–µ—Ç–æ–¥ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl

–í–∏–∫–æ–Ω–∞–π—Ç–µ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:

```bash
curl -I -X OPTIONS https://api.dopa.uno/api/parse_dump \
  -H "Origin: https://dofa-uno.vercel.app" \
  -H "Access-Control-Request-Method: POST"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```
HTTP/2 200
access-control-allow-origin: https://dofa-uno.vercel.app
access-control-allow-credentials: true
access-control-allow-methods: GET, POST, PUT, DELETE, OPTIONS
```

### –ú–µ—Ç–æ–¥ 3: –¢–µ—Å—Ç –≤ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ Vercel
2. –°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ –¥—ñ—ó:
   - –î–æ–¥–∞—Ç–∏ –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ brain dump
   - –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–¥–∞—á—É
   - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å CORS –ø–æ–º–∏–ª–æ–∫

**‚úÖ –Ø–∫—â–æ –ø–æ–º–∏–ª–æ–∫ –Ω–µ–º–∞—î ‚Äî –≤—Å–µ –ø—Ä–∞—Ü—é—î!**

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–æ–º–∏–ª–∫–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**

1. **Railway –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤ —Å–µ—Ä–≤—ñ—Å**
   - –†—ñ—à–µ–Ω–Ω—è: –í—Ä—É—á–Ω—É –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–µ–ø–ª–æ–π
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Deployments ‚Üí –∫–ª—ñ–∫–Ω—ñ—Ç—å "Redeploy"

2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –∑–º—ñ–Ω–Ω–æ—ó**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: –Ω–µ–º–∞—î –ø—Ä–æ–±—ñ–ª—ñ–≤ –ø—ñ—Å–ª—è –∫–æ–º
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: —î –ø—Ä–æ—Ç–æ–∫–æ–ª (https://)
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: –Ω–µ–º–∞—î —Å–ª–µ—à—É –≤ –∫—ñ–Ω—Ü—ñ

3. **–ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞**
   - –†—ñ—à–µ–Ω–Ω—è: –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –∞–±–æ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ —Ä–µ–∂–∏–º—ñ —ñ–Ω–∫–æ–≥–Ω—ñ—Ç–æ
   - Chrome: Cmd+Shift+Delete (Mac) –∞–±–æ Ctrl+Shift+Delete (Windows)

4. **Vercel –∫–µ—à**
   - –†—ñ—à–µ–Ω–Ω—è: –ó—Ä–æ–±—ñ—Ç—å –Ω–æ–≤–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Vercel
   - –ê–±–æ –∑–∞—á–µ–∫–∞–π—Ç–µ 5-10 —Ö–≤–∏–ª–∏–Ω

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Railway –Ω–µ –±–∞—á–∏—Ç—å –∑–º—ñ–Ω–Ω—É

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Railway ‚Üí Variables
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∑–º—ñ–Ω–Ω–∞ `ALLOWED_ORIGINS` —ñ—Å–Ω—É—î
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤–æ–Ω–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–µ—Ä–≤—ñ—Å—ñ (backend, –Ω–µ frontend)

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway
# –í Railway Dashboard ‚Üí Deployments ‚Üí View Logs

# –®—É–∫–∞–π—Ç–µ —Ä—è–¥–æ–∫:
# "ALLOWED_ORIGINS: https://dofa-uno.vercel.app,..."
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–æ–º–∏–ª–∫–∞ "Credentials mode is 'include'"

**–ü–æ–≤–Ω–∞ –ø–æ–º–∏–ª–∫–∞:**

```
The value of the 'Access-Control-Allow-Origin' header in the response must not be 
the wildcard '*' when the request's credentials mode is 'include'.
```

**–†—ñ—à–µ–Ω–Ω—è:**

- –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `allow_origins=["*"]`
- –í–∫–∞–∂—ñ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –¥–æ–º–µ–Ω–∏
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `allow_credentials=True`

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Preflight request fails

**–°–∏–º–ø—Ç–æ–º–∏:**

- –ë–∞—á–∏—Ç–µ OPTIONS –∑–∞–ø–∏—Ç, —è–∫–∏–π –ø–∞–¥–∞—î –∑ 403/404
- –û—Å–Ω–æ–≤–Ω–∏–π POST/GET –∑–∞–ø–∏—Ç –Ω–∞–≤—ñ—Ç—å –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤ CORS middleware —î:

```python
allow_methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"],  # ‚Üê OPTIONS –≤–∞–∂–ª–∏–≤–∏–π!
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤ Railway:

1. Railway Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤—ñ—Å
2. –í–∫–ª–∞–¥–∫–∞ **"Deployments"**
3. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–µ–ø–ª–æ–π
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"View Logs"**
5. –®—É–∫–∞–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

---

## üåê –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–æ–º–µ–Ω–∏

### –ö–æ–ª–∏ –Ω–∞–ª–∞—à—Ç—É—î—Ç–µ custom domain

–Ø–∫—â–æ –≤–∏ –¥–æ–¥–∞—Å—Ç–µ –≤–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `www.dofa.uno`), –æ–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—É:

```
https://dofa-uno.vercel.app,https://dopa.uno,https://www.dofa.uno,http://localhost:5173
```

### –§–æ—Ä–º–∞—Ç –¥–ª—è –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤:

```
–¥–æ–º–µ–Ω1,–¥–æ–º–µ–Ω2,–¥–æ–º–µ–Ω3,–¥–æ–º–µ–Ω4
```

**–ü—Ä–∞–≤–∏–ª–∞:**

- ‚úÖ –†–æ–∑–¥—ñ–ª—è–π—Ç–µ –∫–æ–º–æ—é **–±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤**
- ‚úÖ –ö–æ–∂–µ–Ω –¥–æ–º–µ–Ω –∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º (`https://` –∞–±–æ `http://`)
- ‚úÖ –ë–µ–∑ —Å–ª–µ—à—É `/` –≤ –∫—ñ–Ω—Ü—ñ
- ‚ùå –ù–ï –¥–æ–¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–±—ñ–ª–∏
- ‚ùå –ù–ï –¥–æ–¥–∞–≤–∞–π—Ç–µ –ª–∞–ø–∫–∏

### –ü—Ä–∏–∫–ª–∞–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å:

```
# –¢—ñ–ª—å–∫–∏ production
https://dofa-uno.vercel.app

# Production + custom domain
https://dofa-uno.vercel.app,https://dopa.uno

# Production + custom domain + localhost
https://dofa-uno.vercel.app,https://dopa.uno,http://localhost:5173

# –í—Å—ñ –º–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
https://dofa-uno.vercel.app,https://dopa.uno,https://www.dofa.uno,http://localhost:5173,http://localhost:3000
```

### –ü—Ä–∏–∫–ª–∞–¥–∏ –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ò–• –∑–Ω–∞—á–µ–Ω—å:

```
# ‚ùå –ó –ø—Ä–æ–±—ñ–ª–∞–º–∏
https://dofa-uno.vercel.app, https://dopa.uno

# ‚ùå –ë–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª—É
dofa-uno.vercel.app,dopa.uno

# ‚ùå –ó—ñ —Å–ª–µ—à–µ–º –≤ –∫—ñ–Ω—Ü—ñ
https://dofa-uno.vercel.app/,https://dopa.uno/

# ‚ùå –í –ª–∞–ø–∫–∞—Ö
"https://dofa-uno.vercel.app","https://dopa.uno"
```

---

## üìù –®–≤–∏–¥–∫–∏–π —á–µ–∫–ª–∏—Å—Ç

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è —à–≤–∏–¥–∫–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

- [ ] –í—ñ–¥–∫—Ä–∏–≤ Railway Dashboard
- [ ] –ó–Ω–∞–π—à–æ–≤ –ø—Ä–æ–µ–∫—Ç dofa-uno (backend)
- [ ] –ü–µ—Ä–µ–π—à–æ–≤ –≤ Variables
- [ ] –î–æ–¥–∞–≤/–æ–Ω–æ–≤–∏–≤ –∑–º—ñ–Ω–Ω—É `ALLOWED_ORIGINS`
- [ ] –í—Å—Ç–∞–Ω–æ–≤–∏–≤ –∑–Ω–∞—á–µ–Ω–Ω—è: `https://dofa-uno.vercel.app,https://dopa.uno,http://localhost:5173`
- [ ] –ó–±–µ—Ä—ñ–≥ –∑–º—ñ–Ω–∏
- [ ] –ó–∞—á–µ–∫–∞–≤ 30-60 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏–≤ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—é (Success ‚úÖ)
- [ ] –í—ñ–¥–∫—Ä–∏–≤ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ Vercel
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏–≤ DevTools ‚Üí Network ‚Üí Headers
- [ ] –ü–æ–±–∞—á–∏–≤ `Access-Control-Allow-Origin` –≤ response headers
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞–≤ –æ—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
- [ ] CORS –ø–æ–º–∏–ª–æ–∫ –Ω–µ–º–∞—î! üéâ

---

## üéØ –ü—ñ–¥—Å—É–º–æ–∫

### –û—Å–Ω–æ–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–µ):

1. **Railway Dashboard** ‚Üí Variables
2. **–î–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω–Ω—É:** `ALLOWED_ORIGINS`
3. **–ó–Ω–∞—á–µ–Ω–Ω—è:** `https://dofa-uno.vercel.app,https://dopa.uno,http://localhost:5173`
4. **–ó–±–µ—Ä–µ–≥—Ç–∏** —ñ –∑–∞—á–µ–∫–∞—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏** –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

### –ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î:

- Backend –∫–æ–¥ –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó `ALLOWED_ORIGINS`
- Railway –ø–µ—Ä–µ–¥–∞—î –∑–º—ñ–Ω–Ω—É –≤ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É
- FastAPI CORS middleware –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ headers
- –ë—Ä–∞—É–∑–µ—Ä –±–∞—á–∏—Ç—å –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π –¥–æ–º–µ–Ω —ñ –ø—Ä–æ–ø—É—Å–∫–∞—î –∑–∞–ø–∏—Ç–∏

### –Ø–∫—â–æ –Ω–µ –ø—Ä–∞—Ü—é—î:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∑–º—ñ–Ω–Ω–æ—ó (–±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤, –∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º)
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–µ–ø–ª–æ–π –Ω–∞ Railway
3. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway
5. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è (–¥–æ–¥–∞–π—Ç–µ –¥–æ–º–µ–Ω –≤ –∫–æ–¥)

---

## üìû –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–ø–æ–º–æ–≥–∞

–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway** ‚Äî —Ç–∞–º –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—ñ–¥–∫–∞–∑–∫–∏
2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** ‚Äî —Ç–æ—á–Ω–∏–π —Ç–µ–∫—Å—Ç –ø–æ–º–∏–ª–∫–∏ –¥–æ–ø–æ–º–æ–∂–µ
3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Network tab** ‚Äî –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ request/response headers
4. **–°–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ä–µ–∂–∏–º—ñ —ñ–Ω–∫–æ–≥–Ω—ñ—Ç–æ** ‚Äî –≤–∏–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∫–µ—à–µ–º

---

**–£—Å–ø—ñ—Ö—ñ–≤! üöÄ**

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ Vercel –∑–º–æ–∂–µ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ backend –Ω–∞ Railway!
