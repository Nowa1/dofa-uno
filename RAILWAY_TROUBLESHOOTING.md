# üîß Railway Troubleshooting Guide

–†–µ—à–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ –¥–µ–ø–ª–æ–µ Backend –Ω–∞ Railway.

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Script start.sh not found"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: Script start.sh not found
Build failed
```

**–ü—Ä–∏—á–∏–Ω–∞:**
Railway –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –Ω–æ backend –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–ø–∞–ø–∫–µ `/backend`. Railway –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Root Directory:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Railway Dashboard
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** (–∏–∫–æ–Ω–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏)
   - –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Service Settings"**
   - –í –ø–æ–ª–µ **"Root Directory"** –≤–≤–µ–¥–∏—Ç–µ: `backend`
   - –ù–∞–∂–º–∏—Ç–µ **Save** –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –≤–Ω–µ –ø–æ–ª—è

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**
   - [`backend/railway.json`](backend/railway.json) - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
   - [`backend/nixpacks.toml`](backend/nixpacks.toml) - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nixpacks
   - [`backend/requirements.txt`](backend/requirements.txt) - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

3. **–ü–µ—Ä–µ–¥–µ–ª–∞–π—Ç–µ –¥–µ–ø–ª–æ–π:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è Root Directory
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: **Deployments** ‚Üí **Redeploy**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Root Directory –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úì Found railway.json
‚úì Found nixpacks.toml
‚úì Installing dependencies from requirements.txt
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Module not found" –∏–ª–∏ "No module named 'fastapi'"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ModuleNotFoundError: No module named 'fastapi'
ModuleNotFoundError: No module named 'openai'
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Root Directory –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏ Railway –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç [`requirements.txt`](backend/requirements.txt)
- –ò–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Root Directory:**
   - Settings ‚Üí Root Directory –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `backend`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ requirements.txt:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª [`backend/requirements.txt`](backend/requirements.txt) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã —É–∫–∞–∑–∞–Ω—ã:
     ```
     fastapi==0.104.1
     uvicorn[standard]==0.24.0
     openai==1.3.5
     python-dotenv==1.0.0
     sqlalchemy==2.0.23
     ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
   - Deployments ‚Üí View Logs
   - –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é "Installing dependencies"
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ

4. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–¥–µ–ø–ª–æ–π:**
   - Deployments ‚Üí Latest Deployment ‚Üí Redeploy

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "OpenAI API key not configured"

**–°–∏–º–ø—Ç–æ–º—ã:**
```json
{
  "status": "healthy",
  "openai_configured": false
}
```

–ò–ª–∏ –≤ –ª–æ–≥–∞—Ö:
```
WARNING: OpenAI API key not configured
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `OPENAI_API_KEY` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ Railway.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Railway
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables**
   - –ù–∞–∂–º–∏—Ç–µ **+ New Variable**
   - **Variable Name**: `OPENAI_API_KEY`
   - **Value**: –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á OpenAI (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-proj-...`)
   - –ù–∞–∂–º–∏—Ç–µ **Add**

2. **–ü–æ–ª—É—á–∏—Ç–µ OpenAI API –∫–ª—é—á:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://platform.openai.com/api-keys
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
   - –ù–∞–∂–º–∏—Ç–µ **Create new secret key**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `https://your-backend-url.railway.app/health`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `"openai_configured": true`

**‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ API –∫–ª—é—á–∏ –≤ Git!
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö —Å Frontend

**–°–∏–º–ø—Ç–æ–º—ã:**
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```
Access to fetch at 'https://your-backend.railway.app/api/...' 
from origin 'https://your-frontend.vercel.app' has been blocked by CORS policy
```

**–ü—Ä–∏—á–∏–Ω–∞:**
URL –≤–∞—à–µ–≥–æ frontend –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö origins.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–î–æ–±–∞–≤—å—Ç–µ ALLOWED_ORIGINS:**
   - Railway ‚Üí Variables ‚Üí + New Variable
   - **Variable Name**: `ALLOWED_ORIGINS`
   - **Value**: URL –≤–∞—à–µ–≥–æ frontend —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
   - –ü—Ä–∏–º–µ—Ä:
     ```
     https://dofa-uno.vercel.app,http://localhost:5173,http://localhost:5174
     ```

2. **–§–æ—Ä–º–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è:**
   - –ù–µ—Å–∫–æ–ª—å–∫–æ URL —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –∑–∞–ø—è—Ç–æ–π –ë–ï–ó –ø—Ä–æ–±–µ–ª–æ–≤
   - –í–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª (`https://` –∏–ª–∏ `http://`)
   - –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–ª—ç—à –≤ –∫–æ–Ω—Ü–µ URL
   - –î–æ–±–∞–≤—å—Ç–µ localhost –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –∫–æ–¥–µ:**
   - –í [`backend/main.py`](backend/main.py:29-40) –Ω–∞—Å—Ç—Ä–æ–µ–Ω CORS middleware
   - –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ALLOWED_ORIGINS`

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: Deployments ‚Üí Redeploy

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12)
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
- –°–¥–µ–ª–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ API
- –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
  ```
  Access-Control-Allow-Origin: https://your-frontend.vercel.app
  ```

---

## üíæ –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è –ø–æ—Å–ª–µ —Ä–µ–¥–µ–ø–ª–æ—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–ª–æ—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç
- –ó–∞–¥–∞—á–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:**
SQLite —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ [`database.db`](backend/database.py), –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –¥–µ–ø–ª–æ–µ –±–µ–∑ Volume.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–°–æ–∑–¥–∞–π—Ç–µ Volume:**
   - Railway ‚Üí Settings ‚Üí Volumes
   - –ù–∞–∂–º–∏—Ç–µ **+ New Volume**
   - **Mount Path**: `/app/backend`
   - **Name**: `dofa-db` (–∏–ª–∏ –ª—é–±–æ–µ –∏–º—è)
   - –ù–∞–∂–º–∏—Ç–µ **Add**

2. **–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ `/app/backend`:**
   - Railway —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–æ–¥ –≤ `/app`
   - –° Root Directory = `backend`, –ø—É—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `/app/backend`
   - SQLite —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `database.db` –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ë–î:**
   - –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
     ```
     Initializing database...
     Database initialized successfully!
     ```

4. **–ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:**
   - –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–π—Ç–µ Volume –î–û —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–µ–ø–ª–æ—è
   - –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Volume –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è

**–í–∞–∂–Ω–æ:**
- Volume —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –¥–µ–ø–ª–æ—è–º–∏
- –î–∞–Ω–Ω—ã–µ –≤ Volume –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Database is locked"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
sqlite3.OperationalError: database is locked
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—ã—Ç–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–∏—Å–∞—Ç—å –≤ SQLite
- SQLite –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: Deployments ‚Üí Redeploy
   - –û–±—ã—á–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö

2. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–¥–ª—è production):**
   - –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ PostgreSQL
   - Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç PostgreSQL –ø–ª–∞–≥–∏–Ω
   - PostgreSQL –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQLite –¥–ª—è –ª—É—á—à–µ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏:**
   - –í [`backend/database.py`](backend/database.py) –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
     ```python
     engine = create_engine(
         DATABASE_URL,
         connect_args={
             "check_same_thread": False,
             "timeout": 30  # —É–≤–µ–ª–∏—á–∏—Ç—å timeout
         }
     )
     ```

---

## üåê –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –∏ –¥–æ–º–µ–Ω–∞–º–∏

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Service unavailable" –∏–ª–∏ 503 –æ—à–∏–±–∫–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∞ 503 Service Unavailable
- –ò–ª–∏ "This site can't be reached"

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:**
   - Deployments ‚Üí Latest Deployment
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Success" (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
   - –ï—Å–ª–∏ "Failed" (–∫—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç–∏–∫), —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞:**
   - Logs ‚Üí –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
     ```
     INFO:     Started server process
     INFO:     Uvicorn running on http://0.0.0.0:XXXX
     ```
   - –ï—Å–ª–∏ —ç—Ç–∏—Ö —Å—Ç—Ä–æ–∫ –Ω–µ—Ç, —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞:**
   - –í [`backend/railway.json`](backend/railway.json) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
     ```json
     "startCommand": "uvicorn main:app --host 0.0.0.0 --port $PORT"
     ```
   - –ò –≤ [`backend/nixpacks.toml`](backend/nixpacks.toml):
     ```toml
     [start]
     cmd = "uvicorn main:app --host 0.0.0.0 --port $PORT"
     ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PORT:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `$PORT`
   - –ù–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ:**
   - –õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç Python traceback –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞
   - –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É –∏ –∑–∞–ø—É—à—å—Ç–µ –≤ GitHub
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ª–∞–µ—Ç –¥–µ–ø–ª–æ–π

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–º–µ–Ω –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í Settings ‚Üí Networking –Ω–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
- –ö–Ω–æ–ø–∫–∞ "Generate Domain" –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:**
   - –î–æ–º–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è
   - –î–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ç—É—Å–∞ "Success"

2. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω –≤—Ä—É—á–Ω—É—é:**
   - Settings ‚Üí Networking
   - Public Networking ‚Üí **Generate Domain**
   - Railway —Å–æ–∑–¥–∞—Å—Ç URL –≤–∏–¥–∞: `*.up.railway.app`

3. **–ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
   - –ò–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway CLI:
     ```bash
     railway domain
     ```

---

## üî® –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–∫–æ–π

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Build failed" –±–µ–∑ —è–≤–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Build failed
Exit code: 1
```

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏:**
   - Deployments ‚Üí Failed Deployment ‚Üí View Logs
   - –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞
   - –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–≤—É—é –æ—à–∏–±–∫—É (–æ–±—ã—á–Ω–æ –∫—Ä–∞—Å–Ω—ã–º)

2. **–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
   - –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ Python –∫–æ–¥–µ
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ [`requirements.txt`](backend/requirements.txt)
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Python
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python:**
   - –í [`backend/runtime.txt`](backend/runtime.txt) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
     ```
     python-3.11.0
     ```
   - Railway –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Python 3.8-3.11

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   cd backend
   pip install -r requirements.txt
   python -m uvicorn main:app --reload
   ```
   - –ï—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Railway

5. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –∏ –ø–µ—Ä–µ–¥–µ–ª–∞–π—Ç–µ –¥–µ–ø–ª–æ–π:**
   - Settings ‚Üí Danger Zone ‚Üí Clear Build Cache
   - –ó–∞—Ç–µ–º: Deployments ‚Üí Redeploy

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Nixpacks build failed"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Nixpacks build failed
Could not detect language
```

**–ü—Ä–∏—á–∏–Ω–∞:**
Railway –Ω–µ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nixpacks.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ nixpacks.toml:**
   - –§–∞–π–ª [`backend/nixpacks.toml`](backend/nixpacks.toml) –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
     ```toml
     [phases.setup]
     nixPkgs = ["python311", "pip"]

     [phases.install]
     cmds = ["pip install -r requirements.txt"]

     [start]
     cmd = "uvicorn main:app --host 0.0.0.0 --port $PORT"
     ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Root Directory:**
   - Settings ‚Üí Root Directory = `backend`
   - Nixpacks –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile:**
   - –ï—Å–ª–∏ Nixpacks –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ [`backend/Dockerfile`](backend/Dockerfile)
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ Docker

---

## üìä –ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- Memory usage > 90%
- –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∏ "Out of memory"

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏:**
   - Metrics ‚Üí Memory Usage
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞

2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–¥:**
   - –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –≤–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–æ–≤
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞

3. **–£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã (–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω):**
   - Settings ‚Üí Resources
   - –£–≤–µ–ª–∏—á—å—Ç–µ Memory Limit

4. **–î–ª—è SQLite:**
   - SQLite –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–ª–æ –ø–∞–º—è—Ç–∏
   - –ü—Ä–æ–±–ª–µ–º–∞ —Å–∫–æ—Ä–µ–µ –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Railway CLI

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm i -g @railway/cli

# –õ–æ–≥–∏–Ω
railway login

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
railway logs

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
railway variables

# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ Railway
railway run python -m uvicorn main:app --reload

# –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
railway open
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
railway status

# –°–ø–∏—Å–æ–∫ –¥–µ–ø–ª–æ–µ–≤
railway list

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ shell (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
railway shell

# –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
railway metrics
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- ‚úÖ Root Directory —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `backend`
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub
- ‚úÖ [`backend/railway.json`](backend/railway.json) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ [`backend/nixpacks.toml`](backend/nixpacks.toml) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ [`backend/requirements.txt`](backend/requirements.txt) –∞–∫—Ç—É–∞–ª–µ–Ω
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `OPENAI_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `ALLOWED_ORIGINS` —Å–æ–¥–µ—Ä–∂–∏—Ç URL frontend
- ‚úÖ Volume —Å–æ–∑–¥–∞–Ω –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ

---

## üÜò –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Railway:**
   - https://docs.railway.app/

2. **Railway Community:**
   - Discord: https://discord.gg/railway
   - Forum: https://help.railway.app/

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Issues:**
   - https://github.com/Nowa1/dofa-uno/issues

4. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏:**
   - Deployments ‚Üí View Logs ‚Üí Copy
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Railway:**
   - https://status.railway.app/
   - –í–æ–∑–º–æ–∂–Ω—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Railway Documentation](https://docs.railway.app/)
- [Nixpacks Documentation](https://nixpacks.com/)
- [FastAPI Deployment Guide](https://fastapi.tiangolo.com/deployment/)
- [SQLite Best Practices](https://www.sqlite.org/bestpractice.html)
- [–û—Å–Ω–æ–≤–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é](RAILWAY_DEPLOYMENT_GUIDE.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-07

**–í–µ—Ä—Å–∏—è:** 1.0.0
